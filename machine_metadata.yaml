# Copyright 2021 Canonical Ltd.
# See LICENSE file for licensing details.

name: grafana-agent

description: |
  Grafana Agent Subordinate Charm
summary: |
  Grafana Agent is a telemetry collector for sending metrics, logs, and trace data to the opinionated Grafana observability stack.
maintainers:
    - Jose Mass√≥n <jose.masson@canonical.com>

docs: https://discourse.charmhub.io/t/grafana-agent-k8s-docs-index/5605
website: https://charmhub.io/grafana-agent
source: https://github.com/canonical/grafana-agent-k8s-operator
issues: https://github.com/canonical/grafana-agent-k8s-operator/issues

series: [jammy, focal]
subordinate: true

requires:
  send-remote-write:
    interface: prometheus_remote_write
  logging-consumer:
    interface: loki_push_api
  juju-info:
    interface: juju-info
    scope: container
  # This one most likely won't exist in the final product but the lib crashes if we don't have it.
  metrics-endpoint:
    interface: prometheus_scrape

# This one most likely won't exist in the final product but the lib crashes if we don't have it.
provides:
  logging-provider:
    interface: loki_push_api
